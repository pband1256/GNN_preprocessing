2021-07-26 20:27:45,917 INFO root logger:55 - fileHandler used
2021-07-26 20:27:45,919 INFO root logger:60 - loglevel INFO, logfile /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod/iceprod_log, logsize 67108864, lognum 1
2021-07-26 20:27:45,919 WARNING root i3exec:97 - starting IceProd core
2021-07-26 20:27:45,919 INFO root i3exec:106 - config: {'version': 3, 'options': {'debug': True}, 'steering': {'parameters': {'EfficiencyScales': [2.2], 'EfficiencyScale': '$steering(EfficiencyScales)[$eval($args(iter) % $len($steering(EfficiencyScales)))]', 'Sensors': ['mDOM'], 'SensorAreaScales': {'PDOM': 1.0, 'mDOM': 2.24, 'DEgg': 1.48}, 'Sensor': '$steering(Sensors)[$eval($args(iter) // $len($steering(EfficiencyScales)))]', 'DOMOversizeFactor': 5, 'GeoName': 'Sunflower_240m', 'wd': '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/', 'GCDFiles': {'PDOM': '$steering(wd)gcd/IceCubeHEX_$steering(GeoName)_v3.2_ExtendedDepthRange.GCD.i3.bz2', 'mDOM': '$steering(wd)gcd/IceCubeHEX_$steering(GeoName)_v3.2_ExtendedDepthRange_mDOM.GCD.i3.bz2', 'DEgg': '$steering(wd)gcd/IceCubeHEX_$steering(GeoName)_v3.2_ExtendedDepthRange_D-Egg.GCD.i3.bz2'}, 'GCDFile1size': '$steering(GCDFiles)[PDOM]', 'GCDFile': '$steering(GCDFiles)[$steering(Sensor)]', 'mctype': 'MuonGun', 'mjd': 57087, 'MuonGun::gamma': 1.4, 'nevents_per_bin': [10, 10, 10, 10, 10, 10, 3, 2, 1, 15, 13, 11, 9, 8, 7, 6, 6, 5, 5, 45, 41, 38, 35, 32, 30, 28, 26, 24, 23, 22, 20, 19, 18, 17, 16, 15, 15, 14, 13, 13, 12, 12, 11, 11, 10, 10, 9, 10, 10, 9, 9, 9, 8, 8, 8, 8, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3], 'energy_bins': [3000.0, 23780.687355387276, 64328.69201409018, 124634.27635397251, 204645.6085860675, 304255.73072505085, 423544.20940505184, 562425.2693107132, 720980.0862936311, 898621.4212075941, 1095840.7124572007, 1312661.5120648982, 1549195.4854107806, 1803250.7966990336, 2077124.0745278448, 2368680.8764229147, 2680510.451003446, 3010233.7388539216, 3360932.9504045914, 3726842.466098617, 4114399.799527319, 4519014.152978324, 4943723.127127907, 5383793.415073438, 5844843.876807742, 6323063.043951804, 6813425.287041196, 7325948.477654582, 7857954.860198109, 8405919.418590652, 8965412.611636054, 9531071.19377594, 10122249.502508814, 10738111.491109468, 11377423.522336673, 12005826.44216051, 12648753.794372043, 13303198.455296865, 14006047.464237079, 14718525.275664816, 15436318.138374712, 16154557.028960215, 16920467.74098213, 17681979.913028814, 18432761.51416181, 19228942.25774461, 20007273.692534864, 20830435.8996764, 21627261.173144907, 22467421.502002355, 23353994.738828585, 24203058.81306915, 25095975.76270187, 25939533.024078086, 26924116.87304527, 27961826.188249893, 28944273.9012122, 29975735.29254607, 31059399.646970548, 32198713.604707465, 33261162.990511846, 34373347.88606777, 35538302.23307758, 36759289.27920189, 38039822.345018744, 39212104.52220127, 40435594.03722111, 41713203.097849086, 43048048.92295937, 44443471.019538544, 45903050.16172357, 47208087.197924286, 48565664.48331903, 49978533.22365459, 51449622.772258386, 52982054.425076865, 54579156.46313987, 56244480.571830556, 57687093.529147975, 59182044.91119214, 60731801.63920474, 62338974.25178288, 64006326.8916268, 65736788.102244124, 67533462.5098575, 69399643.4736603, 71338826.79644857, 73354725.59744991, 75025323.6018824, 76749675.96548578, 78530027.1194822, 80368737.10439968, 82268288.67419694, 84231294.90892844, 86260507.37753478, 88358824.89632021, 90529302.9328107, 92775163.70944603, 95099807.06674805, 97506822.15125538, 100000000.0], 'MuonGun::from_energy': '$steering(energy_bins)[$(job)]', 'MuonGun::to_energy': '$steering(energy_bins)[$eval($(job)+1)]', 'MuonGun::median_energy': '$eval($eval(0.5*$eval($steering(MuonGun::to_energy)**$eval(1-$steering(MuonGun::gamma))) + $eval(1-0.5)*$eval($steering(MuonGun::from_energy)**$eval(1-$steering(MuonGun::gamma))))**$eval(1./$eval(1-$steering(MuonGun::gamma))))', 'nevents': '$steering(nevents_per_bin)[$(job)]', 'outfile': "$sprintf('%s_%s_%.1fx_MuonGun.%06d.%06d',$steering(GeoName),$steering(Sensor),$steering(EfficiencyScale),$(dataset),$(job))", 'priority': 0, 'ptversion': 'homogenous', 'env': '/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env $steering(wd)software/icetray/build/', 'seed': '$eval(1234+$(dataset)*3)', 'subdirectory': "$sprintf('%07d-%07d',$eval($(job)//1000*1000),$eval($(job)//1000*1000+999))", 'TARGET::baseproc': "gsiftp://gridftp.icecube.wisc.edu/data/wipac/HEE/simulation/level2/MuonGun/$(dataset)/BaseProc/$steering(GeoName)/$steering(Sensor)/$sprintf('%.1fx',$steering(EfficiencyScale))/$steering(subdirectory)/", 'TARGET::hits': "gsiftp://gridftp.icecube.wisc.edu/data/wipac/HEE/simulation/MuonGun/$(dataset)/$steering(GeoName)/$steering(Sensor)/$sprintf('%.1fx',$steering(EfficiencyScale))/$steering(subdirectory)/", 'temp_file': 'muongun', 'weighted': 'weighted', 'year': 2025}, 'batchsys': {'condor': {'requirements': 'GLIDEIN_SITE != "ComputeCanada-Cedar"'}}, 'system': {}, 'resources': [], 'data': []}, 'tasks': [{'depends': [], 'batchsys': None, 'trays': [{'iterations': 1, 'modules': [{'running_class': 'icecube.gen2_sim.segments.MuonGun', 'src': '', 'args': {'FromEnergy': '$steering(MuonGun::from_energy)', 'gamma': '$steering(MuonGun::gamma)', 'gcdfile': '$steering(GCDFile)', 'mjd': '$steering(mjd)', 'nevents': '$steering(nevents)', 'outputfile': 'muongun.i3.zst', 'RNGNumberOfStreams': '$(jobs_submitted)', 'RNGSeed': '$steering(seed)', 'RNGStream': '$(job)', 'RunId': '$eval($(dataset)*100000 + $(job))', 'ToEnergy': '$steering(MuonGun::to_energy)', 'FromZenith': 85, 'ToZenith': 95}, 'env_shell': '$steering(env)', 'env_clear': False, 'configs': {}, 'name': 'MuonGun', 'resources': [], 'data': [], 'classes': [], 'parameters': {}, 'projects': []}], 'name': '', 'resources': [], 'data': [{'type': 'job_temp', 'movement': 'output', 'remote': '', 'local': 'muongun.i3.zst', 'compression': False, 'transfer': True}], 'classes': [], 'parameters': {}}], 'requirements': {'memory': 1}, 'task_files': False, 'name': 'muongun', 'resources': [], 'data': [], 'classes': [], 'parameters': {}}, {'depends': ['muongun'], 'batchsys': None, 'trays': [{'iterations': 1, 'modules': [{'running_class': 'icecube.gen2_sim.segments.MultiSensorPhotons', 'src': '', 'args': {'DisableTilt': True, 'gcdfile': '$steering(GCDFile1size)', 'inputfilelist': ['muongun.i3.zst'], 'nproc': '$(jobs_submitted)', 'outputfile': 'photons.i3.zst', 'procnum': '$(job)', 'seed': '$steering(seed)', 'EfficiencyScale': '$max($steering(EfficiencyScales))', 'UseGPUs': True, 'DOMOversizeFactor': '$steering(DOMOversizeFactor)'}, 'env_shell': '$steering(env)', 'env_clear': False, 'configs': {}, 'name': 'MakePhotonsMultiSensor', 'resources': [], 'data': [], 'classes': [], 'parameters': {}}], 'name': '', 'resources': [], 'data': [{'type': 'job_temp', 'movement': 'input', 'remote': '', 'local': 'muongun.i3.zst', 'compression': False, 'transfer': True}, {'type': 'job_temp', 'movement': 'output', 'remote': '', 'local': 'photons.i3.zst', 'compression': False, 'transfer': True}], 'classes': [], 'parameters': {}}], 'requirements': {'gpu': 1, 'memory': 4}, 'task_files': False, 'name': 'photons', 'resources': [], 'data': [], 'classes': [], 'parameters': {}}, {'depends': ['photons'], 'batchsys': None, 'trays': [{'iterations': 15, 'modules': [{'running_class': 'icecube.gen2_sim.segments.DownsamplePEs', 'src': '', 'args': {'EfficiencyScales': [1.0, '$steering(EfficiencyScale)'], 'Sensors': ['IceCube', '$steering(Sensor)'], 'gcdfile': '$steering(GCDFile)', 'inputfilelist': ['photons.i3.zst'], 'nproc': '$(jobs_submitted)', 'outputfile': '$steering(outfile)_hits.i3.bz2', 'procnum': '$(job)', 'seed': '$steering(seed)', 'DOMOversizeFactor': '$steering(DOMOversizeFactor)'}, 'env_shell': '$steering(env)', 'env_clear': False, 'configs': {}, 'name': 'MakePEFromPhotons', 'resources': [], 'data': [], 'classes': [], 'parameters': {}}], 'name': '', 'resources': [], 'data': [{'type': 'permanent', 'movement': 'output', 'remote': '$steering(TARGET::hits)/$steering(outfile)_hits.i3.bz2', 'local': '$steering(outfile)_hits.i3.bz2', 'compression': False, 'transfer': True}], 'classes': [], 'parameters': {}}], 'requirements': {'memory': 4}, 'task_files': False, 'name': 'hits', 'resources': [], 'data': [{'type': 'job_temp', 'movement': 'input', 'remote': '', 'local': 'photons.i3.zst', 'compression': False, 'transfer': True}], 'classes': [], 'parameters': {}}], 'difplus': None, 'description': '', 'categories': [], 'dataset': 20016, 'parent_id': 0}
2021-07-26 20:27:45,922 INFO root i3exec:126 - offline mode
2021-07-26 20:27:45,923 INFO root resources:583 - got gpus from CUDA_VISIBLE_DEVICES: ['0']
2021-07-26 20:27:45,924 WARNING root resources:153 - total resources: {'cpu': 1, 'gpu': ['0'], 'memory': 0.9, 'disk': 9.9, 'time': 0.9}
2021-07-26 20:27:45,924 INFO root resources:233 - claiming all avaialble resources for a
2021-07-26 20:27:45,924 INFO root resources:276 - granted {'cpu': 1, 'gpu': ['0'], 'memory': 0.9, 'disk': 9.9, 'time': 0.8999996917777592}
2021-07-26 20:27:45,931 INFO root exe:233 - input: ''
2021-07-26 20:27:45,932 INFO root exe:234 - output: ''
2021-07-26 20:27:45,932 WARNING task i3exec:303 - config options: {'debug': True, 'task_id': 'a', 'loglevel': 'INFO', 'dataset': 0, 'job': 0, 'jobs_submitted': 1, 'resource_url': 'http://prod-exe.icecube.wisc.edu/', 'offline': True, 'offline_transfer': False, 'data_url': 'gsiftp://gridftp.icecube.wisc.edu/', 'svn_repository': 'http://code.icecube.wisc.edu/svn/', 'site_temp': 'gsiftp://gridftp-scratch.icecube.wisc.edu/local/simprod/', 'dataset_temp': 'gsiftp://gridftp-scratch.icecube.wisc.edu/local/simprod/$(dataset)', 'job_temp': 'gsiftp://gridftp-scratch.icecube.wisc.edu/local/simprod/$(dataset)/$(job)', 'subprocess_dir': '/mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod', 'task_temp': 'file:/mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod/task_temp', 'tray_temp': 'file:/mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod/tray_temp', 'local_temp': '/mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod/local_temp', 'stillrunninginterval': 60, 'upload': 'logging', 'resources': {'cpu': 1, 'gpu': ['0'], 'memory': 0.9, 'disk': 9.9, 'time': 0.8999996917777592}, 'input': '', 'output': ''}
2021-07-26 20:27:45,940 INFO root exe:233 - input: ''
2021-07-26 20:27:45,940 INFO root exe:234 - output: ''
2021-07-26 20:27:45,942 INFO root exe:233 - input: ''
2021-07-26 20:27:45,942 INFO root exe:234 - output: 'muongun.i3.zst'
2021-07-26 20:27:45,943 INFO root exe:233 - input: ''
2021-07-26 20:27:45,943 INFO root exe:234 - output: 'muongun.i3.zst'
2021-07-26 20:27:45,945 INFO root exe:850 - searching for env_shell at '/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env'
2021-07-26 20:27:45,946 WARNING root exe:872 - running module 'MuonGun' with class icecube.gen2_sim.segments.MuonGun
2021-07-26 20:27:45,946 WARNING root exe:878 - args={'FromEnergy': 3000.0, 'gamma': 1.4, 'gcdfile': '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/gcd/IceCubeHEX_Sunflower_240m_v3.2_ExtendedDepthRange_mDOM.GCD.i3.bz2', 'mjd': 57087, 'nevents': 10, 'outputfile': 'muongun.i3.zst', 'RNGNumberOfStreams': 1, 'RNGSeed': 61282, 'RNGStream': 0, 'RunId': 2001600000, 'ToEnergy': 23780.687355387276, 'FromZenith': 85, 'ToZenith': 95}
2021-07-26 20:27:45,948 INFO root exe:918 - run as a class using the helper script
2021-07-26 20:27:45,950 WARNING root exe:981 - subprocess cmd=['/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env', '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/software/icetray/build/', 'python', '/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe_helper.py', '--classname', 'icecube.gen2_sim.segments.MuonGun', '--debug', '--args']
2021-07-26 20:27:46,001 INFO root resources:771 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod
2021-07-26 20:27:46,014 INFO root resources:782 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod finished: 148458
2021-07-26 20:28:00,533 WARNING root exe:1044 - cannot load stats info from module
2021-07-26 20:28:00,541 INFO root exe:233 - input: ''
2021-07-26 20:28:00,541 INFO root exe:234 - output: 'muongun.i3.zst'
2021-07-26 20:28:00,543 INFO root exe:324 - resource muongun.i3.zst already exists as file, so skip download
2021-07-26 20:28:00,544 WARNING root exe:381 - resource muongun.i3.zst added to env
2021-07-26 20:28:00,544 INFO root exe:233 - input: 'muongun.i3.zst'
2021-07-26 20:28:00,544 INFO root exe:234 - output: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:00,545 INFO root exe:233 - input: 'muongun.i3.zst'
2021-07-26 20:28:00,545 INFO root exe:234 - output: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:00,546 INFO root exe:850 - searching for env_shell at '/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env'
2021-07-26 20:28:00,547 WARNING root exe:872 - running module 'MakePhotonsMultiSensor' with class icecube.gen2_sim.segments.MultiSensorPhotons
2021-07-26 20:28:00,547 WARNING root exe:878 - args={'DisableTilt': True, 'gcdfile': '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/gcd/IceCubeHEX_Sunflower_240m_v3.2_ExtendedDepthRange.GCD.i3.bz2', 'inputfilelist': ['muongun.i3.zst'], 'nproc': 1, 'outputfile': 'photons.i3.zst', 'procnum': 0, 'seed': 61282, 'EfficiencyScale': 2.2, 'UseGPUs': True, 'DOMOversizeFactor': 5}
2021-07-26 20:28:00,548 INFO root exe:918 - run as a class using the helper script
2021-07-26 20:28:00,548 WARNING root exe:981 - subprocess cmd=['/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env', '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/software/icetray/build/', 'python', '/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe_helper.py', '--classname', 'icecube.gen2_sim.segments.MultiSensorPhotons', '--debug', '--args']
2021-07-26 20:28:16,189 INFO root resources:771 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod
2021-07-26 20:28:16,208 INFO root resources:782 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod finished: 460968
2021-07-26 20:28:29,978 WARNING root exe:1044 - cannot load stats info from module
2021-07-26 20:28:29,986 INFO root exe:324 - resource photons.i3.zst already exists as file, so skip download
2021-07-26 20:28:29,986 WARNING root exe:381 - resource photons.i3.zst added to env
2021-07-26 20:28:29,987 INFO root exe:233 - input: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:29,987 INFO root exe:234 - output: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:29,990 INFO root exe:233 - input: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:29,990 INFO root exe:234 - output: 'muongun.i3.zst photons.i3.zst Sunflower_240m_mDOM_2.2x_MuonGun.020016.000000_hits.i3.bz2'
2021-07-26 20:28:29,991 INFO root exe:233 - input: 'muongun.i3.zst photons.i3.zst'
2021-07-26 20:28:29,991 INFO root exe:234 - output: 'muongun.i3.zst photons.i3.zst Sunflower_240m_mDOM_2.2x_MuonGun.020016.000000_hits.i3.bz2'
2021-07-26 20:28:29,993 INFO root exe:850 - searching for env_shell at '/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env'
2021-07-26 20:28:29,994 WARNING root exe:872 - running module 'MakePEFromPhotons' with class icecube.gen2_sim.segments.DownsamplePEs
2021-07-26 20:28:29,994 WARNING root exe:878 - args={'EfficiencyScales': [1.0, 2.2], 'Sensors': ['IceCube', 'mDOM'], 'gcdfile': '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/gcd/IceCubeHEX_Sunflower_240m_v3.2_ExtendedDepthRange_mDOM.GCD.i3.bz2', 'inputfilelist': ['photons.i3.zst'], 'nproc': 1, 'outputfile': 'Sunflower_240m_mDOM_2.2x_MuonGun.020016.000000_hits.i3.bz2', 'procnum': 0, 'seed': 61282, 'DOMOversizeFactor': 5}
2021-07-26 20:28:29,994 INFO root exe:918 - run as a class using the helper script
2021-07-26 20:28:29,996 WARNING root exe:981 - subprocess cmd=['/cvmfs/icecube.opensciencegrid.org/py3-v4.1.1/icetray-env', '/cvmfs/icecube.opensciencegrid.org/users/gen2-optical-sim/software/icetray/build/', 'python', '/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe_helper.py', '--classname', 'icecube.gen2_sim.segments.DownsamplePEs', '--debug', '--args']
2021-07-26 20:28:46,387 INFO root resources:771 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod
2021-07-26 20:28:46,409 INFO root resources:782 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod finished: 1221210
2021-07-26 20:29:16,585 INFO root resources:771 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod
2021-07-26 20:29:16,593 INFO root resources:782 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod finished: 1221538
2021-07-26 20:29:46,778 INFO root resources:771 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod
2021-07-26 20:29:46,787 INFO root resources:782 - du of /mnt/ufs18/home-105/lehieu1/IceCube/code/GNN/iceprod finished: 1221774
2021-07-26 20:30:03,503 WARNING root exe:1022 - return code: 1
2021-07-26 20:30:03,514 ERROR task i3exec:356 - task failed, exiting without running completion steps.
Traceback (most recent call last):
  File "/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/i3exec.py", line 340, in runner
    async for proc in iceprod.core.exe.runtask(cfg, env, task):
  File "/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe.py", line 712, in runtask
    async for proc in runtray(cfg, env, tray, stats=tmpstat, logger=logger):
  File "/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe.py", line 750, in runtray
    async for proc in runmodule(cfg, env, module, stats=tmpstat, logger=logger):
  File "/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe.py", line 788, in runmodule
    yield process
  File "/cvmfs/icecube.opensciencegrid.org/iceprod/master/RHEL_7_x86_64/lib/python3.8/site-packages/iceprod/core/exe.py", line 1031, in __aexit__
    raise e
RuntimeError: measurement_prob > 1 (it's 1.447812): cannot continue. your hit weights are too high. (weight=77.653656, wlen=347.224102nm) (in I3MCPESeriesMapPtr I3PhotonToMCHitConverterForMDOMs::Convert(I3FramePtr) [with PhotonMapType = I3Map<ModuleKey, I3Vector<I3CompressedPhoton> >; I3MCPESeriesMapPtr = boost::shared_ptr<I3Map<OMKey, std::vector<I3MCPE> > >; I3FramePtr = boost::shared_ptr<I3Frame>])
